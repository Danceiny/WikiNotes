---
date: 2016-02-29 18:10
status: public
title: 依赖关系破坏
---

# 问题描述：
安装stardict后，下载deb格式的词库。由于没有按照指定方法安装，直接双击通过软件中心安装了。安装至一半失败，并出现了“软件依赖关系被破坏，无法安装或卸载软件”的状况，根据提示使用终端输入“sudo apt-get install -f"自动修复失败。终端中显示信息如下：

正在读取软件包列表... 完成
正在分析软件包的依赖关系树
正在读取状态信息... 完成
正在更正依赖关系... 完成
将会安装下列额外的软件包：
stardict-common stardict-gnome stardict-plugin stardict-plugin-espeak
stardict-plugin-gucharmap
下列【新】软件包将被安装：
stardict-common stardict-gnome stardict-plugin stardict-plugin-espeak
stardict-plugin-gucharmap
升级了 0 个软件包，新安装了 5 个软件包，要卸载 0 个软件包，有 8 个软件包未被升级。
有 1 个软件包没有被完全安装或卸载。
需要下载 0B/1,287kB 的软件包。
解压缩后会消耗掉 3,215kB 的额外空间。
您希望继续执行吗？[Y/n]y
(正在读取数据库 ... 系统当前共安装有 150020 个文件和目录。)
正在解压缩 stardict-common (从 .../stardict-common_3.0.1-7_all.deb) ...
dpkg：处理 /var/cache/apt/archives/stardict-common_3.0.1-7_all.deb (--unpack)时出错：
正试图覆盖“/usr/share/stardict/pixmaps/docklet_normal.png”，它同时被包含于软件包 stardict 3.0.1-1
dpkg-deb: 子进程 粘贴 被信号(断开的管道) 终止了
正在解压缩 stardict-gnome (从 .../stardict-gnome_3.0.1-7_i386.deb) ...
dpkg：处理 /var/cache/apt/archives/stardict-gnome_3.0.1-7_i386.deb (--unpack)时出错：
正试图覆盖“/usr/bin/stardict”，它同时被包含于软件包 stardict 3.0.1-1
dpkg-deb: 子进程 粘贴 被信号(断开的管道) 终止了
正在解压缩 stardict-plugin (从 .../stardict-plugin_3.0.1-7_i386.deb) ...
dpkg：处理 /var/cache/apt/archives/stardict-plugin_3.0.1-7_i386.deb (--unpack)时出错：
正试图覆盖“/usr/lib/stardict/plugins/stardict_dictdotcn.so”，它同时被包含于软件包 stardict 3.0.1-1
正在解压缩 stardict-plugin-espeak (从 .../stardict-plugin-espeak_3.0.1-7_i386.deb) ...
dpkg：处理 /var/cache/apt/archives/stardict-plugin-espeak_3.0.1-7_i386.deb (--unpack)时出错：
正试图覆盖“/usr/lib/stardict/plugins/stardict_espeak.so”，它同时被包含于软件包 stardict 3.0.1-1
由于已经达到 MaxReports 限制，没有写入 apport 报告。
正在解压缩 stardict-plugin-gucharmap (从 .../stardict-plugin-gucharmap_3.0.1-7_i386.deb) ...
dpkg：处理 /var/cache/apt/archives/stardict-plugin-gucharmap_3.0.1-7_i386.deb (--unpack)时出错：
正试图覆盖“/usr/lib/stardict/plugins/stardict_gucharmap.so”，它同时被包含于软件包 stardict 3.0.1-1
由于已经达到 MaxReports 限制，没有写入 apport 报告。
在处理时有错误发生：
/var/cache/apt/archives/stardict-common_3.0.1-7_all.deb
/var/cache/apt/archives/stardict-gnome_3.0.1-7_i386.deb
/var/cache/apt/archives/stardict-plugin_3.0.1-7_i386.deb
/var/cache/apt/archives/stardict-plugin-espeak_3.0.1-7_i386.deb
/var/cache/apt/archives/stardict-plugin-gucharmap_3.0.1-7_i386.deb
E: Sub-process /usr/bin/dpkg returned an error code (1)
# Solution
先清理
sudo apt-get autoclean 清理旧版本的软件缓存
sudo apt-get clean 清理所有软件缓存
sudo apt-get autoremove 删除系统不再使用的孤立软件

然后重新命令行安装你要装的软件

# Else
类似这样的错误：

dpkg: error processing /var/cache/apt/archives/AAA (–unpack):
trying to overwrite `/usr/lib/BBB1`, which is also in package CCC
dpkg-deb: subprocess paste killed by signal (Broken pipe)
Errors were encountered while processing:
AAA
E: Sub-process /usr/bin/dpkg returned an error code (1)

解决方法：

`sudo dpkg -i --force-overwrite AAA`

(give full path of AAA), and then run

`sudo apt-get -f install`

again.

<http://www.blogjava.net/sealyu/archive/2010/11/18/338428.html?opt=admin>
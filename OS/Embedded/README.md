在为嵌入式系统和其他计算机平台写程序时有一个最基本的区别，就是嵌人式程序总是以一个无限循环作为结束。

 C/C++ 程序的启动代码通常包含以下行为，并且按照所列的次序执行：
1 、禁止所有中断。
2 、从 ROM  里复制所有初始化数据到 RAM  里。
3 、把未初始化数据区清零。
4 、为堆栈分配空间并初始化。
5 、初始化处理器堆栈指针。
6 、创建并初始化堆。
7 、（只对 C++ 有效）对所有全局变量执行构造函数和初始化函数。
8 、允许中断。
9 、调用 main 。
![](http://opkk27k9n.bkt.clouddn.com/17-7-5/44954371.jpg)
因为启动代码不是自动插入的，程序员通常必须亲自汇编这段代码并把得到的目标文件包括在链接器的输入文件列表里。他甚至需要给链接器一个特殊的命令行选项以阻止它插入通常的启动代码。适用于多种目标处理器的启动代码可以在可以在 GNU  软件包 libgloss  中找到。

所有以下划线开始的名字（比如_TopOfStack）是可以从你的源代码内部引用的变量。
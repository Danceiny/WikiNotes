https://github.com/noamraph/tqdm/blob/master/tqdm.py
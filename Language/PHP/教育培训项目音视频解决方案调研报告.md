# 教育培训项目音视频解决方案调研报告
## 1. 前言
本报告的撰写背景是，公司要在教育培训这一方向上开展新项目，初步预测该项目有一些音视频的课程内容，需要有音视频的技术解决方案提供支持。显而易见的是，核心的基础设施不宜自研，应选择云服务商，因此本报告的宗旨在于根据预估的技术需求，拟定各项技术细则标准，对各家云服务商的音视频服务进行横向对比，并最终给出一个推荐选择的服务商名录。

## 2. 需求
结合竞品以及行业现状来看，“点播”是一种最基础的、最广泛的业务开展形态，直播次之。其中，直播与点播相结合的录播也可认为是点播，但其“直播转点播”的特性对技术的需求会有一些不同。

音视频本身有两大关键需求：播放和版权，此外成本也是一大关键因素。

从产品形态上来说，小程序、h5是项目初期的落脚点，需要充分考虑音视频在小程序和h5中的体验（尤其是播放体验），同时需要保留其他产品形态的可能性。

## 3. 标准
就点播而言，稳定性、安全性、流畅度、清晰度（排名有先后）应当是需要考虑的几大关键指标。
其中安全性细分为以下指标：
- 防盗链机制健壮度
- 视频本身加密机制
- 接口调用签名健壮度
- ip黑白名单机制

就【功能模块】而言，除去点播cdn功能以外，本文将考虑以下功能：
- 直播
- 录播
- 截图（视频截图，含GIF）
- 播放器（Web,Android,iOS等多端）
- 拉取（即拉取存储在其他平台的视频并上传到本平台，此处平台指云服务商平台）
- 分片&剪辑（截取部分片段等）
- 水印（视频本身以及播放时水印）
- 鉴黄鉴暴恐（需要额外考虑该功能的便利性，如是否需要我方先截图）
- 统计（包括控制台以及API接口）
- 调用额度（是否有限制）

在线教育价格案例：https://help.aliyun.com/document_detail/64032.html?spm=a2c4g.11186623.6.552.3c7f7971y12YHs

就【价格成本】而言，考虑到云端资源价格的市场特性，本文按照如下的体量计算一个月内的成本：
> 存量方面，1万个500MB视频，5万个100MB视频；增量方面，每天新增800个100MB视频，200个500MB视频。其中所有增量视频，按照80/20的比例，分别转码为【H.264 高清（`1280*720`）及以下】，和【标清（`960*540`）及以下】（假定500MB的视频为20分钟高清，100MB的视频为20分钟标清，云端只存储一种转码文件）。增量视频百分百鉴黄鉴暴恐。综上，初始存量视频大小约为9766GB，每日新增视频176GB，按照30日/月计算，总计须对5280GB的视频进行鉴黄鉴暴恐处理，对`4000*30`分钟的视频内容进行高清转码，对`16000*30`分钟的视频内容进行标清转码，最终存量为15046GB。
> 日均视频播放量7万，其中高清低清分别占比80/20，平均播放时长为视频时长的60%。
> 全站https。
> 每日视频下载量在20GB。
> 每日视频播放流量在初始存量的10%，即976GB。

本文还将考虑以下内容：
- 文档
    - 接口文档的完善度、准确度
    - 社区文章的丰富度、活跃度
    - 接口文档的搜索功能、组织结构
    - SDK的文档质量
- 技术响应
    - 工单系统响应速度和答复质量
    - 专业技术人员的响应速度
- 独特优势
    - 对微信生态的支持与限制

对于以上所有指标，本文将给出F--到A++的等级评分，对应于0到30的数字评分。

## 4. 对比

根据前期调研讨论，本文选取腾讯云以及阿里云作为高意向选择目标，作着重讨论，并选择又拍云、金山云、网易云等参与对比。由于金山云的公开文档信息太少，排除；网易云文档中的功能介绍、接口介绍过于简略，排除。下文将主要对比腾讯云、阿里云和又拍云。

下表4-1是调研得到的各云服务商在各指标下的评价描述。

| 维度 | 对比项 | 腾讯云 | 阿里云 | 又拍云 |
| ---- | ------ | ------ | ------ | ------ |
| 功能模块 | 直播                         | 有|有|有|
| 功能模块 | 录播                         | 支持|有最佳实践|有最佳实践|
| 功能模块 | 截图                         | 支持指定时间点截图，使用指定时间点截图作为封面，采样截图，雪碧图截图| 支持指定时间点jpg截图和雪碧图截图|支持mp4和muts分片指定时间点截图|
| 功能模块 | 播放器                       | iOS+Android+Web|iOS+Android+Web|-|
| 功能模块 | 拉取                         | 支持|支持|-|
| 功能模块 | 分片、剪辑                   | 支持分片上传、视频拼接和视频剪辑|支持|支持|
| 功能模块 | 水印                         | 支持水印模板管理API|必须到控制台管理水印|-|
| 功能模块 | 鉴黄鉴暴恐                   | 支持设置阈值|分为人工审核和智能审核，智能审核不支持阈值|仅支持鉴黄|
| 功能模块 | 统计                         | 比较丰富，有API  |也是API，统计项比腾讯云少|没有API，有控制台|
| 功能模块 | 调用额度                     | -|-|上限每分钟2000次|
| 功能模块 | 转码                         | 默认无h265转码 |比腾讯的转码选择多|转码功能最丰富|
| 功能模块 | 媒体管理                     | 支持标签    | 支持分类   | - |
| 功能模块 | 防盗链机制健壮度             | Key防盗链|一样|一样|
| 功能模块 | 视频本身加密机制             | 有|有|无|
| 功能模块 | 接口调用签名健壮度           | 比较好 | 比较好| 还可以|
| 功能模块 | ip黑白名单机制               | 有，在Refer防盗链中|有|有|
| 功能模块 | https                        | 视频上传支持，下载不支持 |-|有，但是收费|
| 价格     | CDN流量                      | 企业版0.207元/GB|后付费方案0.24元/GB|0.29元/GB|
| 价格     | 存储                         | 企业版0.0038元/GB/天|后付费方案0.0049元/GB/天，赠送50GB免费存储|CDN流量一比一赠送，超出0.0043元/GB/天|
| 价格     | 高清转码                     | 企业版0.0377元/分钟|后付费方案，0.0465/分钟|0.017元/分钟|
| 价格     | 标清转码                     | 企业版0.0377元/分钟|免费|0.0044/分钟|
| 价格     | 鉴黄鉴暴恐                   | - | 智能审核非常贵！一分钟视频一毛钱）|不支持鉴暴恐|
| 价格     | 其他收费类目                 | 无 | 视频下载0.24元/GB| https收费，接口调用收费；视频截图收费0.2元/千张|
| 独特优势 | 缓存                         |-| 支持缓存预热|支持分段缓存|

下表4-2是根据4-1的客观描述所做的评级（具备基本功能B，功能齐备B+，有一个亮点B++，以此类推；无相关说明则可记为B；横向对比绝对最优则直接A++，绝对最差则直接F--）。

| 维度     | 对比项                       | 腾讯云 | 阿里云 | 又拍云 |
| -------- | ---------------------------- | ------ | ------ | ------ |
| 功能模块 | 直播                         | A      | B+      | B     |
| 功能模块 | 录播                         | B      | A      | A      |
| 功能模块 | 截图                         | A+     | B      | B--    |
| 功能模块 | 播放器                       | A      | B      | F      |
| 功能模块 | 拉取                         | B+     | B+     | B--    |
| 功能模块 | 分片、剪辑                   | A      | A      | B+|
| 功能模块 | 水印                         | B+     | B      | F--|
| 功能模块 | 鉴黄鉴暴恐                   | A+     | A      | B--    |
| 功能模块 | 统计                         | A      | B      | B+      |
| 功能模块 | 调用额度                     | -      | -      | D      |
| 功能模块 | 媒体管理                     | A+     | B+     | B      |
| 价格     | 单月成本                     | ---    | ---    | F--    |
| 文档     | 接口文档的完善度、准确度     | A      | A      | F--    |
| 文档     | 社区文章的丰富度、活跃度     | B+     | A      | D   |
| 文档     | 接口文档的搜索功能、组织结构 | B+     | A      | F--    |
| 文档     | SDK的文档质量                | B      | A      | B      |
| 技术响应 | 工单系统响应速度和答复质量   | B+     | A      | B      |
| 技术响应 | 专业技术人员的响应速度       | B      | B      | B      |
| 独特优势 | 对微信生态的支持与限制       | A    | B      | B      |
| 独特优势 | 缓存                         | B      | A+     | B      |

## 总结

总结前文，从【功能模块】、【文档/技术响应】、【价格】、【独特优势】等四方面对腾讯云等三个云服务商进行评级如下：
- 【功能模块】，腾讯云A，阿里云B+，又拍云B-。
- 【文档/技术响应】，阿里云A，腾讯云B++，又拍云C（主要考虑到又拍云的文档太差）。
- 【价格】，腾讯云支持后付费（按量，阶梯计费）和用量包，计费粒度最低到天；阿里云支持后付费（按量，阶梯计费）和套餐包，计费粒度最低到小时；又拍云仅支持后付费（按量，无阶梯计费）。上述三家均支持商务洽谈定价。综上，价格方案相对难以评级，但考虑到经验（阿里云比较贵）和价格方案灵活度（阿里云最优），给出评级为：阿里云A，腾讯云B++，又拍云B+。
- 【独特优势】，腾讯云的主要优势在于微信生态支持，且无明显劣势；阿里云无明显优劣势；又拍云的主要优势在于转码的灵活度。

综上所述，本文推荐采购腾讯云的音视频服务。
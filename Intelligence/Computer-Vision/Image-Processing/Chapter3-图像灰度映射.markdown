---
date: 2016-01-25 18:13
status: public
title: Chapter3-图像灰度映射
---

# 灰度映射原理
**关键在于根据要求设计灰度映射函数，或映射规则。**
# 典型灰度映射
## 图像求反
普通黑白底片和照片的关系就是这样。
具体变换时，只需将图像的灰度值根据变换曲线进行映射。
变换曲线为NewGrey = -1 * (OldGrey + L-1)，其中L为灰度级数，如256，其灰度范围为[0,256-1]。
## 增强对比度
具体通过增加图像中某两个灰度值间的动态范围实现。
体现在变换曲线上，就是整体是一个斜率为1的正比曲线，但是在需要增强对比度的灰度范围区间，增加斜率。
## 动态范围压缩
动态范围压缩的目标与增强对比度的目标基本相反。
有时原图的动态范围太大，超出某些显示设备的允许动态范围，这时如果使用原图，一部分细节可能丢失（超出上限的灰度只能显示为上限）。
解决办法是对原图进行一定的灰度压缩。
一种常见的压缩函数是用对数。NewGrey = C * log(1+|OldGrey|)
## Gamma校正
NewGrey = C * pow(OldGrey,Gamma)
Gamma>1时，变换结果是输入中较宽的低灰度范围被映射到输出中较窄的灰度范围；
Gamma<1时，变换结果是输入中较窄的低灰度范围被映射到输出中较宽的灰度范围。
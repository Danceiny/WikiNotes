---
date: 2016-01-21 21:13
status: public
title: Introduction-Image-Processing
---

# 书籍信息
***图像工程（上册）图像处理***
*章毓晋 清华大学出版社*
# 图像采集
## 采集设备性能指标
1. 线性响应：指输入物理信号的强度与输出响应信号的强度之间关系是否线性；
2. 灵敏度：绝对灵敏度可用所能检测到的最小光子个数表示，相对灵敏度可用能使输出发生一级变化所需的光子个数表示；
3. 信噪比：指所采集的图像中有用信号与无用干扰的（能量或强度）比值。
4. 不均匀度：指输入物理信号为常数而输出的数字形式不为常数的现象；
5. 像素形状：一般是正方形，也有其他形状的；
6. 频谱灵敏度：对不同频率的辐射的相对灵敏度；
7. 快门速度：对应采集拍摄时间；
8. 读取速率：指信号数据从敏感单元读取（传输）的速率。
## 固态采集器件
### CCD
电荷耦合器件。
### CMOS
互补金属氧化物半导体。
主要包括传感器核心，模数转换器，输出寄存器，控制寄存器，增益放大器等。
### CID
电荷注射器件。
# 图像显示
## 屏幕显示（扫描）坐标
通常是以左上角为坐标原点。
## 图像计算坐标
通常是以左下角为坐标原点。
## 空间分辨率
类似1920x1080。
## 幅度分辨率
每个像素点的灰度阈值。
## 主要显示设备
**阴极射线管CRT**
**电视显示器和液晶显示器LCD**
## 半调输出
一种将灰度图像转化为二值图像的技术。
例如一幅二值图像，每个像素只取黑或白，但从一定距离外来看，人眼所感知的单元由多个像素组成，则人眼所感知到的灰度是这个单元的平均灰度。
半调技术主要包括：
### 幅度调制AM
最开始：调整输出黑点的尺寸。DPI。
在实际使用幅度调制技术时，其输出的二值点模式的效果不仅取决于每个点的尺寸，还与网格的间隔大小有关。间隔越小，输出的分辨率越高。
### 频率调制FM
输出黑点的尺寸固定，但其在空间的分布（点间隔或一定区域内点出现的频率）取决于所需表示的灰度。
对于AM半调技术，FM半调技术可以较好地消除由于AM半调技术中两个或多个规则模式叠加而产生的**摩尔模式问题？？？**
FM半调的主要缺点与点增益dot gain的增加有关。
点增益：打印单元尺寸相对于原始单元尺寸的增加量，导致打印图灰度范围的减少或压缩，减少细节或反差。
### 半调输出模板
半调输出的一种具体实现方法：
将图像输出的单元细分，取邻近的基本二值点结合起来组成输出单元。
为输出不同的灰度，需要建立一套模板，每个模板对应一个输出单元。
2x2：0个黑点，1个黑点，……，4个黑点，可输出5个灰度。每个像素1比特的话，需要4比特，输出5种灰度，16种模式（4个像素点，每个或黑或白，16=2**4）。
按照这个规律，为输出256种灰度，需要将一个模板分成16x16个单元。则输出图像的空间分辨率会受较大影响。
*所以半调输出技术仅在输出设备本身输出的灰度值有限的情况下值得使用。*
## 抖动技术
半调输出技术通过减少图像空间分辨率，而提高幅度分辨率。或者说牺牲空间点数，而增加灰度级数。
**抖动技术**通过调节或变动图像的幅度值，来改善量化过粗图像的显示质量。
抖动可通过对原始图像f(x,y)加一个随机的小噪声d(x,y)来实现。
由于噪声值与原图像值无任何有规律的联系，所以可以帮助消除 **量化不足** 而导致的图像中出现 **虚假轮廓** 的现象。
实现抖动的一种具体方法：
**设b为图像显示的比特数，则d(x,y)的值可以从以下5个数中，以均匀概率取得：**
-2**(6-b), 
-2**(5-b),
0,
2**(5-b),
2**(6-b)
将f(x,y)加这样一个随机小噪声的**b个最高有效比特**作为最终输出像素的值。

使用抖动技术可以消除一些由于灰度级数过少而在图像中灰度平滑处所产生的虚假轮廓现象。
根据抖动原理，所叠加的抖动值越大（噪声值），消除虚假轮廓的效果越明显。
# 图像存储
**图像数据最小的量度单位是比特b。**
## 图像文件格式
图像文件内除图像数据本身以外，一般还有对图像的描述信息。
图像数据文件主要使用**光栅** （也称 **位图** 或 **像素图**）形式。主要缺点是没有直接表示出像素间的相互关系，且限定了图像的空间分辨率。（相比矢量图~）
### BMP格式
**BMP** 格式是windows环境中的一种标准，全称是 **Microsoft设备独立位图（DIP）**。
BMP格式的图像文件也称位图文件，包括3部分：
1. 位图文件头（也称表头）；
2. 位图信息（常称调色板）；
3. 位图阵列（即图像数据）。
位图文件头长度*固定为54B*(1字节B=8比特b)，给出文件的类型、大小和位图阵列的起始位置等信息。
位图信息给出图像的长宽，每个像素的位数，压缩方法，目标设备的水平和垂直分辨率等。
位图阵列给出原始图像中每个像素的值（每3个字节表示一个像素，RGB）。其存储格式可以有**压缩**（16色和256色），以及**非压缩**。
### GIF格式
一般是8位文件格式（一个像素一个字节），所以最多只能存储256色图像。均为压缩过的。
文件结构较为复杂，一般包括7个数据单元：文件头，通用调色板，图像数据区，以及4个补充区。其中表头和图像数据区不可缺少。
一个GIF文件中可以存放多幅图像（所以通常就是动画咯）。所以文件头中会包含适用于所有图像的全局数据，和仅属于其后那副图像的局部数据。（类似链表？）多幅图像存放时，每幅图像集中成一个图像数据块，每块的第一个字节是标识符，指示数据块的类型（图像块、扩展块或文件结束符）。
### TIFF格式
一种独立于操作系统和文件系统的格式。TIFF图像文件包括文件头（表头）、文件目录（标识信息区）和文件目录项（图像数据区）。
文件头只有一个，在文件前端，其给出数据存放顺序、文件目录的字节偏移信息。
文件目录给出文件目录项的个数信息，并有一组标识信息，给出图像数据区的地址。
文件目录项是存放信息的基本单位，也称域。主要包括基本域、信息描述域、传真域、文献存储和检索域5类。
此格式支持任意尺寸图像，文件可分为四类：二值图像、灰度图像、调色板彩色图像和全彩色图像。一个TIFF文件也可以存放多幅图像，也可存放多份调色板数据。
### JPEG格式
JPEG是对静止灰度或彩色图像的一种压缩标准。在使用有损压缩方式时其节省巨大空间。
JPEG标准只是定义了一个规范的编码数据流，并没有规定图像数据文件的格式。
Cube Microsystems公司地定义了一种JPEG文件交换格式JFIF.JFIF图像是一种使用灰度表示或Y,Cb,Cr分量彩色表示的JPEG图像，其包含一个与JPEG兼容的头。一个JPEG文件通常包含单个图像，图像可以是灰度的（数据为单个分量），也可以是彩色的（包括Y,Cb,Cr分量）。
# 图像处理
## 例：图像分辨率与处理能力
为实时处理每帧图像为1024x1024的彩色视频，需要每秒处理1024x1024x8x3x25比特的数据，（8bit/pixel,RGB,25FPS？）对应的处理速度为78.64MB/s。假设对一个像素的处理需要10个**浮点运算(FLOPS)**，那对一秒钟视频的处理就需要近8亿的浮点运算。并行运算策略通过利用多个处理器同时工作来加快处理速度。
最乐观的估计认为并行运算的时间可以减少为串行计算的lnJ/J，其中J为并行处理器的个数。
# 先修基础
数学：线性代数和矩阵理论，统计学、概率论、随机建模；
计算机科学：计算机结构体系的理解，计算机编程方法的应用；
电子学：设备都是电子器件，信号处理是图像处理的直接基础。
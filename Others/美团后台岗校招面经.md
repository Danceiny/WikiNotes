- ## 自我介绍
>背景：做过的项目比较杂；数据结构和算法基础薄弱，尤其害怕算法；操作系统理解不够深刻，缺乏实战经验；最近在看数据库；语言用Python在后端方面用得并不多。

自我介绍中强调了自己的自我驱动学习态度和能力、数据库方面的兴趣、后端的技术发展方向、会一点Java、算法比较菜。（说算法比较菜的时候面试官还特意问了数据结构怎么样，我回答说还好，不过还是需要继续加油）。

- ## 数据结构和算法
- ### 层级遍历二叉树。

答：（这个还真不太记得了）可以使用回溯，就是遍历到左子树之后再回溯到父节点，从而再遍历到右子树，实现一个层级的遍历。可以改进一下数据结构，给每个节点加一个指针，指向兄弟节点。这样遍历比较快。追问：那要遍历指定深度的层级呢？比如我要遍历深度为5
的层级。答：按照上面改的数据结构，直接从根节点遍历到第五层，（这里我的意思应该是深度优先的遍历，然而面试时没有说清楚，面试官估计没怎么听明白）然后直接可以遍历这一层了。


- ### 10000个int值组成的数组，找出最大的5个值。

定义一个长度为5的数组，初始化为`[-INFINITE for i in range(5)]`，遍历目标数组，对每个值，遍历小数组比较大小，以替换小数组中最小的值。追问：复杂度是多少？答：O(n)。如果要找出最大的m个值的话，复杂度更精确点是O(m*n)（面试的时候不知道有没有把O(n)说错成log(n)^_^）

- ### int数组，写一个函数，求该数组是否存在这样的三个值构成的小数组[A,B,C]，满足A<C<B。

我的方案（存在问题，不可行）: 定义小数组，长度为3，初始化为`[-INFINITE for i in range(3)]`。遍历目标大数组，遇到第一个值v时，将小数组改写为`arr_t = [v,v,v]`。遇到第2个值v2时，与小数组中的三个值比较，若`v2 < arr_t[0]`(即最小值),替换该最小值；若`arr_t[0] < v2 < arr_t[2]`，将`arr_t[2]`挪到`arr_t[0]`, 将v2放到`arr_t[2]`；若`v2 > arr[1]`,替换最大值。在遍历过程中满足`arr_t[0]<arr_t[2]<arr_t[1]`即可返回True。目标大数组遍历完成后，再判断`arr_t`数组是否满足条件。

存在问题：小数组中的最大值可能不会更新，导致判为False，而实际为True。例如[8,8,3,2,1]。

（这道题是最后问的，上述这个问题我并没有想到解决方案，就结束了面试）

- ## 操作系统（包括linux）
    - linux中怎么看系统负载？
    答：用top。
    问：具体？
    答：记得有个五元组，系统负载（cpu负载）主要看里面某个参数。（这里答错了，应该是3元组，比如load average: 0.29,0.23,0.12， 表示在过去的一分钟内和过去的5分钟，以及过去的15分钟内的平均负载。数字1.05表示过去x分钟内，平均下来overloaded了5%，即平均有0.05个进程在等待CPU。）
    问：……
    答：系统负载可能是用户态执行的时间与总运行时间的比值……这块概念不太清楚……（这里完全答错，还不如不答……）

    - ### 进程间通信有哪些方式？
    答：共享内存、信号量、文件、信号（信号这个不太清楚是不是，其他还有管道、FIFO、互斥量、条件变量、读写锁、写记录锁和RPC等没答出来）、消息队列

    - ### 临界区？
    答：做进程调度的时候会首先进临界区，看进程需要的资源是否可用，进程是否可以从等待态转为就绪态……（这块有个大体印象，但是专业用语不太会）
    
    - ### 查看某个端口是否被占用？
    答：ps aux看端口神马的信息，然后通过管道用grep 端口号。追问：但是有些进程号里也有这个端口号，比如80，怎么处理？答：awk命令可以取出一行的某一列，可以结合awk来取出端口号那一列，再用grep。具体命令忘记了，可以查。

    - ### 有一个log文件，每一行是一个url，找出出现最多次数的那个url？
    答：（确认了是使用linux命令之后）可以用wc的计数命令，具体参数用法不记得了。


- ## 数据库
1. 联合索引
>联合索引的列有先后，好处是避免回表，比两个单列查询效率高。适合建联合索引的情况：等值查询中，单独查询条件a和单独查询条件b返回的条目都比较多，而联合查询条件a和b返回的条目少；对于有等值查询的列和范围查询的列，等值查询的列建在前、范围查询的列建在后比较实用。如果联合作引的前置列与索引单列一致，那么单列查询可以用到这个联合索引。建索引的过程产生锁，不是行级锁，而是锁住整个表，任何该表的DML操作都会被禁止。
    
主要问我知道联合索引吗，我说知道，但自己从来不用，因为看网上博客说联合索引有一些劣势，而且自己做过的实际项目中也没有这个需求，但是用不用联合索引主要还是看业务需求。然后就连续列举了几个情况，问是否能用得上联合索引。答得很勉强，不过参看上文应该猜的答案基本还对了。

- ## 项目相关（cecctm.com官网后台）
1. 用户收件信息表设计
2. 配置表设计与加载
    答：配置表主要是因为用了阿里云的数据库，做一些读写分离的配置。
    问：配置表读数据库不会很慢吗？
    答：后台应用启动的时候会将配置表加载到我们设计的DBModel实例中，即加载到内存。
    问：线程级还是进程级共享？
    答：应该是线程级，是不是进程级不清楚。（补充：对于flask应用，使用uwsgi部署，一般使用了多进程，但其uwsgi进程与flask-app的关系，不透明，很难查文档）


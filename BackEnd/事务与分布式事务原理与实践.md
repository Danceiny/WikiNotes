# 事务简介
## 本质
- **锁**

- **并发**

## 优劣
- 容易理解
- 性能较低

## 单个事务单元
ACID保证事务完整性。

### 排队法
### 排他锁
对事务间共享数据加锁。

### 读写锁
针对读读场景做优化。先读后写、先写后读也无法并行。
要读写并行，去掉读锁。性能提升，但读读可能不一致。

## 事务-MVCC
本质是copy on write.可以做到写不阻塞读，并发度高。但是复杂度高。

# 处理事务的常见思路
- **一个读请求应该读哪一个写之后的数据？**
逻辑时间戳（保证时间先后顺序）。写+1.

- **死锁与死锁检测**
	- 效率最高：碰撞检测。
	- 等锁超时。

### 深入单机事务
1. ACID：
- 原子性
- 一致性 Can/happen before
- 隔离性 
>可重复读（InnoDB默认） vs 已提交读（两次读可能不一样） vs 可串行化 vs 未提交读
- 持久性
2. 

### 事务的典型异常应对策略
### 事务的调优原则
# 事务处理常见问题

# Google Spanner

# DRDS/TDDL 实践